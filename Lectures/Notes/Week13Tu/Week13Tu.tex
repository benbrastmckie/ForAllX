\documentclass[a4paper, 11pt]{article} % Font size (can be 10pt, 11pt or 12pt) and paper size (remove a4paper for US letter paper)
\usepackage[protrusion=true,expansion=true]{microtype} % Better typography
\usepackage{graphicx} % Required for including pictures
\usepackage{wrapfig} % Allows in-line images
\usepackage{enumitem} %%Enables control over enumerate and itemize environments
\usepackage{setspace}
\usepackage{amssymb, amsmath, mathrsfs} %%Math packages
\usepackage{stmaryrd}
\usepackage{mathtools}
\usepackage{multicol} 
\usepackage{mathpazo} % Use the Palatino font
\usepackage[T1]{fontenc} % Required for accented characters
\usepackage{array}
\usepackage{bibentry}
\usepackage{prooftrees} 
\usepackage[round]{natbib} %%Or change 'round' to 'square' for square backers
\setcitestyle{aysep=}
% \usepackage{fitchproof} 

% \linespread{1} % Change line spacing here, Palatino benefits from a slight increase by default

\newcommand{\corner}[1]{\ulcorner#1\urcorner} %%Corner quotes
\newcommand{\tuple}[1]{\langle#1\rangle} %%Angle brackets
\newcommand{\set}[1]{\lbrace#1\rbrace} %%Set brackets
\newcommand{\interpret}[1]{\llbracket#1\rrbracket} %%Double brackets
%\DeclarePairedDelimiter\ceil{\lceil}{\rceil}    
\def\therefore{\ensuremath{\ldotp\dot\,\ldotp}}
\newcommand{\I}{\mathcal{I}}
\newcommand{\J}{\mathcal{J}}
\newcommand{\B}{\mathcal{B}}
\newcommand{\F}{\mathcal{F}}
\newcommand{\M}{\mathcal{M}}
\newcommand{\D}{\mathbb{D}}
\renewcommand{\v}[1]{\mathbf{#1}}
\newcommand{\even}{\texttt{Even}}
\newcommand{\comp}{\texttt{Comp}}
\newcommand{\res}{\texttt{Res}}
\newcommand{\simp}{\texttt{Simple}}
\newcommand{\leng}{\texttt{Length}}
\newcommand{\V}[1]{\mathcal{V}_{#1}} %%Corner quotes
\newcommand{\VV}[2]{\mathcal{V}_{#1}^{#2}} %%
\newcommand{\va}[1]{\hat{#1}} %%
\newcommand{\qt}[2]{#1 #2} % for modifying style of quantifer and bound variable pairs
\newcommand{\unisub}[2]{[#1/#2]}
\renewcommand{\models}{\vDash}
\newcommand{\nmodels}{\nvDash}
\def\metaA{\ensuremath{\varphi}}
\def\metaB{\ensuremath{\psi}}
\def\metaC{\ensuremath{\chi}}

\makeatletter
\renewcommand\@biblabel[1]{\textbf{#1.}} % Change the square brackets for each bibliography item from '[1]' to '1.'
\renewcommand{\@listI}{\itemsep=0pt} % Reduce the space between items in the itemize and enumerate environments and the bibliography

\renewcommand{\maketitle}{ % Customize the title - do not edit title and author name here, see the TITLE block below
\begin{flushright} % Right align
{\LARGE\@title} % Increase the font size of the title

\vspace{10pt} % Some vertical space between the title and author name

{\@author} % Author name
\\\@date % Date

\vspace{0pt} % Some vertical space between the author block and abstract
\end{flushright}
}

%----------------------------------------------------------------------------------------
%	TITLE
%----------------------------------------------------------------------------------------

\title{\textbf{Soundness: Part II}} % Subtitle

\author{\textsc{Logic I}\\ \em Benjamin Brast-McKie} % Institution

\date{\today} % Date

%----------------------------------------------------------------------------------------

\begin{document}

\maketitle % Print the title section

\thispagestyle{empty}

%----------------------------------------------------------------------------------------




\section*{Soundness of QD}

\begin{enumerate}
  \item[\it Assume:] $\Gamma \vdash_{\textsc{qd}} \varphi$, so there is a QD proof $X$ of $\varphi$ from $\Gamma$. 
  \item[\it Lines:] Let $\varphi_i$ be the $i$\textsuperscript{th} line of $X$.
  \item[\it Dependencies:] Let $\Gamma_i$ be the undischarged assumptions at line $i$. 
  \item[\it Proof:] The proof goes by induction on length of $X$:
    \begin{itemize}
      \item[\sc Base:] $\Gamma_1 \vDash \varphi_i$. 
      \item[\sc Hypothesis:] Assume $\Gamma_k \vDash \varphi_k$ for all $k\leq n$.
      \item[\sc Induction:] If $\metaA_{n+1}$ follows by the proof rules for QD from sentences in $\Gamma_{n+1}$, then $\Gamma_{n+1} \vDash \metaA_{n+1}$.
    \end{itemize}
  \item[\it Finite:] Since $X$ is finite, there is some $m$ where $\Gamma_m=\Gamma$ and $\varphi_m=\varphi$, so $\Gamma \vDash \varphi$.
\end{enumerate}




\section*{SD Lemmas}

\begin{enumerate}[labelsep=.1in]
  \item[\bf L12.1] If $\Gamma \models \metaA$ and $\Gamma \subseteq \Gamma'$, then $\Gamma' \models \metaA$.
  \item[\bf L12.2] For any QD proof $X$, if $\metaA_k$ is live at line $n$ where $k\leq n$, then $\Gamma_k\subseteq \Gamma_{n}$.
  \item[\bf L12.3] If $\Gamma \models \metaA$ and $\Gamma \models \neg\metaA$, then $\Gamma$ is unsatisfiable.
  \item[\bf L12.4] If $\Gamma \cup \set{\metaA}$ is unsatisfiable, then $\Gamma \models \neg\metaA$.
  \item[\bf L12.5] $\VV{\I}{\va{a}}(\metaA)=\VV{\I}{\va{c}}(\metaA)$ if $\va{a}(\alpha)=\va{c}(\alpha)$ for all free variables $\alpha$ in a wff $\metaA$.
  \item[\bf L12.6] $\VV{\I}{}(\metaA)= 1$ just in case $\VV{\I}{\va{a}}(\metaA)= 1$ for every v.a. $\va{a}$ over $\D$.
  \item[\bf L12.7] If $\Gamma \cup \set{\metaA} \models \metaB$, then $\Gamma \models \metaA \supset \metaB$.
\end{enumerate}




\section*{SD Rules}

\begin{enumerate}[labelsep=.1in]
  % \item[\checkmark (AS)] Proof is the same as in the base case considered last week.
  \item[(R)] $\metaA_k=\metaA_{n+1}$ for live $k\leq n$. Thus $\Gamma_k\models\metaA_k$ by hypothesis and $\Gamma_k\subseteq\Gamma_{n+1}$ by \textbf{L12.2}. Thus $\Gamma_{n+1}\models\metaA_k$ by \textbf{L12.1}, and so $\Gamma_{n+1}\models\metaA_{n+1}$.
  \item[($\neg$I)] %$\Gamma_{n+1} \models \metaA_{n+1}$ if $\metaA_{n+1}$ follows from $\Gamma_{n+1}$ by the rule $\neg$I.
    \begin{itemize}
      \item There is a proof of $\metaB$ at line $h$ and $\neg\metaB$ at line $j$ from $\metaA$ on line $i$. 
      \item By hypothesis $\Gamma_h\models \metaB$ and $\Gamma_j\models\neg\metaB$, where $\Gamma_h,\Gamma_j\subseteq\Gamma_{n+1}\cup\set{\metaA_i}$.
      \item By \textbf{L12.1}, $\Gamma_{n+1}\cup\set{\metaA_i}\models\metaB$ and $\Gamma_{n+1}\cup\set{\metaA_i}\models\neg\metaB$.
      \item So $\Gamma_{n+1}\cup\set{\metaA_i}$ is unsatisfiable by \textbf{L12.3}, so $\Gamma_{n+1}\models\metaA_{n+1}$ by \textbf{L12.4}.
    \end{itemize}
  % \item[\checkmark ($\neg$E)] Similar to ($\neg$I).
  % \item[\checkmark ($\wedge$I)] Skip.
  \item[($\wedge$E)]
    \begin{itemize}
      \item $\metaA_{n+1}\wedge\metaB$ is live on line $i\leq n$.
      \item By hypothesis, $\Gamma_i\models\metaA_{n+1}\wedge\metaB$ where $\Gamma_i\subseteq\Gamma_{n+1}$ by \textbf{L12.2}
      \item Thus $\Gamma_{n+1}\models\metaA_{n+1}\wedge\psi$ by \textbf{L12.1}, and so $\Gamma_{n+1}\models\metaA_{n+1}$ by semantics.
    \end{itemize}
  % \item[($\vee$I)] 
  % \item[($\vee$E)] 
  \item[($\supset$I)]
    \begin{itemize}
      \item There is a proof of $\metaB$ at line $j$ from $\metaA$ on line $i$. 
      \item By hypothesis $\Gamma_j\models \metaB$, where $\Gamma_j\subseteq\Gamma_{n+1}\cup\set{\metaA}$.
      \item So $\Gamma_{n+1}\cup\set{\metaA}\models\psi$, and so $\Gamma_{n+1}\models\metaA\supset\metaB$ by \textbf{L12.7}.
    \end{itemize}
  % \item[($\supset$E)] 
  % \item[($\equiv$I)] 
  % \item[($\equiv$E)] 
\end{enumerate}

\vspace{-.2in}



\section*{QD Lemmas}

\begin{enumerate}[labelsep=.1in]
  \item[\bf L12.8] $\VV{\I}{\va{a}}(\metaA)=\VV{\I}{\va{a}}(\metaA\unisub{\beta}{\alpha})$ if $\VV{\I}{\va{a}}(\alpha)=\VV{\I}{\va{a}}(\beta)$ and $\beta$ is free for $\alpha$ in $\metaA$.
    \begin{itemize}
      \item[\it Base:] Assume $\metaA$ is $\F^n\alpha_1,\ldots,\alpha_n$ or $\alpha_1=\alpha_2$ where $\VV{\I}{\va{a}}(\alpha)=\VV{\I}{\va{a}}(\beta)$. 
      \item Let $\gamma_i=\beta$ if $\alpha_i=\alpha$ and otherwise $\gamma_i=\alpha_i$.
      \item $\tuple{\VV{\I}{\va{a}}(\alpha_1),\ldots,\VV{\I}{\va{a}}(\alpha_n)}\in\I(\F^n) \textit{ ~iff~ } \tuple{\VV{\I}{\va{a}}(\gamma_1),\ldots,\VV{\I}{\va{a}}(\gamma_n)}\in\I(\F^n)$.
      \item $\VV{\I}{\va{a}}(\alpha_1)=\VV{\I}{\va{a}}(\alpha_n) \textit{ ~iff~ } \VV{\I}{\va{a}}(\gamma_1)=\VV{\I}{\va{a}}(\gamma_2)$.
      \item[\it Induction:] If $\comp(\metaA)\leq n$, $\VV{\I}{\va{a}}(\metaA)=\VV{\I}{\va{a}}(\metaA\unisub{\beta}{\alpha})$ whenever $\VV{\I}{\va{a}}(\alpha)=\VV{\I}{\va{a}}(\beta)$.
      \item[\it Case 2:] Assume $\metaA=\metaB\wedge\metaC$ where $\VV{\I}{\va{a}}(\alpha)=\VV{\I}{\va{a}}(\beta)$ for all $\va{a}$.
      \item So $\VV{\I}{\va{a}}(\metaA)=1$ \textit{iff} $\VV{\I}{\va{a}}(\metaB\wedge\metaC)=1$ \textit{iff} $\VV{\I}{\va{a}}(\metaB)=\VV{\I}{\va{a}}(\metaC)=1$ \textit{iff} \ldots
      \item[\it Case 6:] Assume $\metaA=\qt{\forall}{\gamma}\metaB$ where $\VV{\I}{\va{a}}(\alpha)=\VV{\I}{\va{a}}(\beta)$.
      \item If $\gamma=\alpha$, then $\metaA=\metaA\unisub{\beta}{\alpha}$.
      \item If $\gamma\neq\alpha$, $\VV{\I}{\va{a}}(\qt{\forall}{\gamma}\metaB)=1$ \textit{iff} $\VV{\I}{\va{e}}(\metaB)=1$ for all $\gamma$-variants $\va{e}$ of $\va{a}$ \textit{iff}\ldots
      \item Let $\va{e}$ be an arbitrary $\gamma$-variant of $\va{a}$.
      \item Since $\gamma\neq\alpha$, $\va{e}(\alpha)=\va{a}(\alpha)$ if $\alpha$ is a variable, so $\VV{\I}{\va{e}}(\alpha)=\VV{\I}{\va{a}}(\alpha)$. 
      \item Thus $\VV{\I}{\va{e}}(\alpha)=\VV{\I}{\va{a}}(\beta)$ follows from the assumption. 
      \item Since $\beta$ is free for $\alpha$ in $\qt{\forall}{\gamma}\metaB$, we know that $\gamma\neq\beta$.
      \item If $\beta$ is a variable, then $\va{e}(\beta)=\va{a}(\beta)$ since $\va{e}$ is a $\gamma$-variant of $\va{a}$.
      \item Thus $\VV{\I}{\va{e}}(\beta)=\VV{\I}{\va{a}}(\beta)$, and so $\VV{\I}{\va{e}}(\alpha)=\VV{\I}{\va{e}}(\beta)$.
      \item By hypothesis, $\VV{\I}{\va{e}}(\metaB)=\VV{\I}{\va{e}}(\metaB\unisub{\beta}{\alpha})$, where $\va{e}$ was arbitrary.
      \item \ldots\textit{iff} $\VV{\I}{\va{e}}(\metaB\unisub{\beta}{\alpha})=1$ for all $\gamma$-variants $\va{e}$ of $\va{a}$ \textit{iff} $\VV{\I}{\va{a}}(\metaA\unisub{\beta}{\alpha})=1$.
    \end{itemize}
  \item[\bf L12.9] If $\M=\tuple{\D,\I}$ and $\M'=\tuple{\D,\I'}$ where $\I$ and $\I'$ agree about every constant $\alpha$ and $n$-place predicate $\F^n$ that occurs in $\metaA$, it follows that $\VV{\I}{\va{a}}(\metaA)=\VV{\I'}{\va{a}}(\metaA)$ for any variable assignment $\va{a}$ over $\D$.
    \begin{itemize}
      \item[\it Base:] $\tuple{\VV{\I}{\va{a}}(\alpha_1),\ldots,\VV{\I}{\va{a}}(\alpha_n)}\in\I(\F^n) \textit{ ~iff~ } \tuple{\VV{\I'}{\va{a}}(\alpha_1),\ldots,\VV{\I'}{\va{a}}(\alpha_n)}\in\I'(\F^n)$.
      \item $\I(\F^n)=\I'(\F^n)$ is immediate from the assumption.
      \item $\VV{\I}{\va{a}}(\alpha_i)=\I(\alpha_i)=\I'(\alpha_i)=\VV{\I'}{\va{a}}(\alpha_i)$ if $\alpha_i$ is a constant.
      \item $\VV{\I}{\va{a}}(\alpha_i)=\va{a}(\alpha_i)=\VV{\I'}{\va{a}}(\alpha_i)$ if $\alpha_i$ is a variable.
      % \item[\it Induction:] The rest is routine.
    \end{itemize}
  \item[\bf L12.10] For any constant $\beta$ that does not occur in $\qt{\forall}{\alpha}\metaA$ or in any sentence $\metaB\in\Gamma$, if $\Gamma \models \metaA\unisub{\beta}{\alpha}$, then $\Gamma \models \qt{\forall}{\alpha}\metaA$.
    \begin{itemize}
      \item[1.] Assume $\Gamma \models \metaA\unisub{\beta}{\alpha}$ for constant $\beta$ not in $\qt{\forall}{\alpha}\metaA$ or $\Gamma$.
      \item[2.] Assume $\Gamma \nmodels \qt{\forall}{\alpha}\metaA$, and so $\M$ satisfies $\Gamma$ but $\VV{\I}{\va{a}}(\qt{\forall}{\alpha}\metaA)\neq 1$.
      \item[3.] So $\VV{\I}{\va{c}}(\metaA)\neq 1$ for some $\alpha$-variant $\va{c}$ of $\va{a}$.
      \item[4.] Let $\M'$ by like $\M$ but for $\I'(\beta)=\va{c}(\alpha)$.
      \item[5.] By \textbf{L12.9}, $\M'$ satisfies $\Gamma$ since $\beta$ does not occur in $\Gamma$.
      \item[6.] So $\M'$ satisfies $\metaA\unisub{\beta}{\alpha}$ since $\Gamma \models \metaA\unisub{\beta}{\alpha}$.
      \item[7.] By \textbf{L12.6}, $\VV{\I'}{\va{c}}(\metaA\unisub{\beta}{\alpha})=1$ for all $\va{c}$, and so for $\va{c}$ in particular.
      \item[8.] Since $\beta$ is not in $\qt{\forall}{\alpha}\metaA$, we know $\beta$ is not in $\metaA$.
      \item[9.] So $\VV{\I'}{\va{c}}(\metaA)\neq 1$ by \textbf{L.12.9} given (3) above. 
      \item[10.] By (4) above, $\VV{\I'}{\va{c}}(\alpha)=\VV{\I'}{\va{c}}(\beta)$ where $\beta$ is free for $\alpha$. 
      \item[11.] By \textbf{L12.8}, $\VV{\I'}{\va{c}}(\metaA)=\VV{\I'}{\va{c}}(\metaA\unisub{\beta}{\alpha})$.
      \item[12.] Thus $\VV{\I'}{\va{c}}(\metaA\unisub{\beta}{\alpha})\neq 1$, contradicting the above.
    \end{itemize}
  \item[\bf L12.11] $\forall\alpha\metaA \models \metaA\unisub{\beta}{\alpha}$ where $\alpha$ is a variable and $\metaA\unisub{\beta}{\alpha}$ is a sentence.
    \begin{itemize}
      \item Let $\M$ satisfy $\qt{\forall}{\alpha}\metaA$, so $\VV{\I}{\va{a}}(\qt{\forall}{\alpha}\metaA)=1$ for some $\va{a}$. 
      \item So $\VV{\I}{\va{c}}(\metaA)=1$ where $\va{c}(\alpha)=\I(\beta)$ for an $\alpha$-variant $\va{c}$ of $\va{a}$.
      % \item Thus $\VV{\I}{\va{c}}(\alpha)=\VV{\I}{\va{c}}(\beta)$.
      \item By \textbf{L12.8}, $\VV{\I}{\va{c}}(\metaA)=\VV{\I}{\va{c}}(\metaA\unisub{\beta}{\alpha})$, and so $\VV{\I}{\va{c}}(\metaA\unisub{\beta}{\alpha})=1$.
    \end{itemize}
  \item[\bf L12.12] If $\Gamma \models \metaA$ and $\Sigma \cup \set{\metaA} \models \metaB$, then $\Gamma\cup\Sigma \models \metaB$.
  \item[\bf L12.13] $\metaA\unisub{\beta}{\alpha} \models \exists\alpha\metaA$ where $\alpha$ is a variable and $\metaA\unisub{\beta}{\alpha}$ is a sentence.
  \item[\bf L12.14] For any constant $\beta$ that does not occur in $\exists\alpha\metaA$, $\metaB$, or in any sentence $\metaC\in\Gamma$, if $\Gamma \models \exists\alpha\metaA$ and $\Gamma \cup \set{\metaA\unisub{\beta}{\alpha}} \models \metaB$, then $\Gamma \models \metaB$.
  \item[\bf L12.15] If $\alpha$ and $\beta$ are constants, then $\metaA\unisub{\alpha}{\gamma}, \alpha = \beta \models \metaA\unisub{\beta}{\gamma}$.
\end{enumerate}


\section*{QD Rules}

\begin{enumerate}[labelsep=.1in]
  \item[($\forall$I)] %Assume $\metaA_{n+1}$ follows by $\forall$I. 
    \begin{itemize}
      \item $\metaA_i=\metaA\unisub{\beta}{\alpha}$ for $i\leq n$ live at $n+1$ where $\beta$ is not in $\metaA_{n+1}$ or $\Gamma_{n+1}$. 
      \item So $\Gamma_i\models\metaA_i$ by hypothesis, and $\Gamma_i\subseteq\Gamma_{n+1}$ by \textbf{L12.2}.
      \item Thus $\Gamma_{n+1}\models\metaA_i$ by \textbf{L12.1}, so $\Gamma_{n+1}\models\metaA\unisub{\beta}{\alpha}$.
      \item So $\Gamma_{n+1}\models \qt{\forall}{\alpha}\metaA$ by \textbf{L12.10} since $\beta$ not in $\qt{\forall}{\alpha}\metaA$ or $\Gamma_{n+1}$.
      \item Equivalently, $\Gamma_{n+1}\models \metaA_{n+1}$.
    \end{itemize}
  \item[($\forall$E)] %Assume $\metaA_{n+1}$ follows by $\forall$E. 
    \begin{itemize}
      \item $\metaA_i=\qt{\forall}{\alpha}\metaA$ for $i\leq n$ live at $n+1$ where $\metaA_{n+1}=\metaA\unisub{\beta}{\alpha}$.
      \item So $\Gamma_i\models\metaA_i$ by hypothesis, and $\Gamma_i\subseteq\Gamma_{n+1}$ by \textbf{L12.2}.
      \item Thus $\Gamma_{n+1}\models\metaA_i$ by \textbf{L12.1}, so $\Gamma_{n+1}\models \qt{\forall}{\alpha}\metaA$.
      \item By \textbf{L12.11} $\qt{\forall}{\alpha}\metaA\models\metaA\unisub{\beta}{\alpha}$, and so $\Gamma_{n+1}\models\metaA\unisub{\beta}{\alpha}$ by \textbf{L12.12}.
      \item Equivalently, $\Gamma_{n+1}\models \metaA_{n+1}$.
    \end{itemize}
  % \item[($\exists$I)] $\Gamma_{n+1} \models \metaA_{n+1}$ if $\metaA_{n+1}$ follows from $\Gamma_{n+1}$ by the rule $\exists$I. 
  % \item[($\exists$E)] $\Gamma_{n+1} \models \metaA_{n+1}$ if $\metaA_{n+1}$ follows from $\Gamma_{n+1}$ by the rule $\exists$E. 
  % \item[($=$I)] $\Gamma_{n+1} \models \metaA_{n+1}$ if $\metaA_{n+1}$ follows from $\Gamma_{n+1}$ by the rule $=$I. 
  % \item[($=$E)] $\Gamma_{n+1} \models \metaA_{n+1}$ if $\metaA_{n+1}$ follows from $\Gamma_{n+1}$ by the rule $=$E. 
\end{enumerate}










\end{document}

